"use strict";(self.webpackChunkportfolio_start=self.webpackChunkportfolio_start||[]).push([[2847],{2847:function(e,n,r){r.r(n),r.d(n,{ImageDrawer:function(){return c}});var t=r(7762),a=r(4165),i=r(5861),s=r(5671),o=r(3144),u=r(4709),c=function(){function e(n){var r=this;(0,s.Z)(this,e),this.loadImageShape=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r._engine.loadImage){e.next=2;break}throw new Error("".concat(u.gK," image shape not initialized"));case 2:return e.next=4,r._engine.loadImage({gif:n.gif,name:n.name,replaceColor:null!==(t=n.replaceColor)&&void 0!==t&&t,src:n.src});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this._engine=n}return(0,o.Z)(e,[{key:"addImage",value:function(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}},{key:"draw",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t,i,s,o,u,c,l,p,f,h;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.context,i=n.radius,s=n.particle,o=n.opacity,u=s.image,c=null===u||void 0===u?void 0:u.element,u){e.next=3;break}return e.abrupt("return");case 3:if(t.globalAlpha=o,!u.gif||!u.gifData){e.next=12;break}return e.next=7,r.e(9188).then(r.bind(r,9188));case 7:l=e.sent,(0,l.drawGif)(n),e.next=13;break;case 12:c&&(p=u.ratio,f={x:-i,y:-i},h=2*i,t.drawImage(c,f.x,f.y,h,h/p));case 13:t.globalAlpha=1;case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"getSidesCount",value:function(){return 12}},{key:"init",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var r,i,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.actualOptions).preload&&this._engine.loadImage){e.next=3;break}return e.abrupt("return");case 3:i=(0,t.Z)(r.preload),e.prev=4,i.s();case 6:if((s=i.n()).done){e.next=12;break}return o=s.value,e.next=10,this._engine.loadImage(o);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])})));return function(n){return e.apply(this,arguments)}}()},{key:"loadShape",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("image"===n.shape||"images"===n.shape){e.next=2;break}return e.abrupt("return");case 2:if(this._engine.images||(this._engine.images=[]),r=n.shapeData){e.next=6;break}return e.abrupt("return");case 6:if(this._engine.images.find((function(e){return e.name===r.name||e.source===r.src}))){e.next=12;break}return e.next=10,this.loadImageShape(r);case 10:return e.next=12,this.loadShape(n);case 12:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"particleInit",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n,t){var i,s,o,u,c,l,p,f,h,g,m,d,v,k,x,b=this;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("image"===t.shape||"images"===t.shape){e.next=2;break}return e.abrupt("return");case 2:if(this._engine.images||(this._engine.images=[]),u=this._engine.images,c=t.shapeData){e.next=6;break}return e.abrupt("return");case 6:if(l=t.getFillColor(),p=u.find((function(e){return e.name===c.name||e.source===c.src}))){e.next=9;break}return e.abrupt("return");case 9:if(f=null!==(i=c.replaceColor)&&void 0!==i?i:p.replaceColor,!p.loading){e.next=13;break}return setTimeout((function(){b.particleInit(n,t)})),e.abrupt("return");case 13:if(!p.svgData||!l){e.next=23;break}return e.next=16,Promise.resolve().then(r.bind(r,9602));case 16:return g=e.sent,m=g.replaceImageColor,e.next=20,m(p,c,l,t);case 20:h=e.sent,e.next=24;break;case 23:h={color:l,data:p,element:p.element,gif:p.gif,gifData:p.gifData,gifLoopCount:p.gifLoopCount,loaded:!0,ratio:c.width&&c.height?c.width/c.height:null!==(d=p.ratio)&&void 0!==d?d:1,replaceColor:f,source:c.src};case 24:h.ratio||(h.ratio=1),v=null!==(s=c.fill)&&void 0!==s?s:t.shapeFill,k=null!==(o=c.close)&&void 0!==o?o:t.shapeClose,x={image:h,fill:v,close:k},t.image=x.image,t.shapeFill=x.fill,t.shapeClose=x.close;case 29:case"end":return e.stop()}}),e,this)})));return function(n,r){return e.apply(this,arguments)}}()}]),e}()}}]);
//# sourceMappingURL=2847.4c7ebb35.chunk.js.map